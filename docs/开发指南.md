# KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ - å¼€å‘æŒ‡å—

**å½“å‰ç‰ˆæœ¬**: v14.0.0 å‚»ç“œå¼åº”ç”¨ç‰ˆ ğŸš€  
**æœ€åæ›´æ–°**: 2025-10-29

## ğŸ†• v14.0.0 æ ¸å¿ƒç‰¹æ€§

### é©å‘½æ€§ä¼˜åŒ– - ä»å¼€å‘è€…å·¥å…·åˆ°é›¶åŸºç¡€å¯ç”¨

**P0çº§ - æ ¸å¿ƒæ˜“ç”¨æ€§ä¼˜åŒ–**:
- ğŸš€ **çœŸæ­£çš„ä¸€é”®å®‰è£…** - åµŒå…¥æ‰€æœ‰ä¾èµ–ï¼ˆRedis+Chromium+Python 3.11ï¼‰
- ğŸ¯ **ç»Ÿä¸€é¦–æ¬¡å¯åŠ¨å‘å¯¼** - 3æ­¥é…ç½®ï¼ˆæ¬¢è¿â†’ç™»å½•â†’é€‰æ‹©é¢‘é“â†’å®Œæˆï¼‰
- ğŸª **Chromeæ‰©å±•è‡ªåŠ¨å‘é€** - 2æ­¥å®ŒæˆCookieå¯¼å…¥
- ğŸ“¡ **æœåŠ¡å™¨è‡ªåŠ¨å‘ç°** - 100%è‡ªåŠ¨åŒ–æ‹‰å–é¢‘é“åˆ—è¡¨
- ğŸ”’ **å®‰å…¨å›¾åºŠå¯ç”¨** - IPç™½åå•+256ä½Token+è·¯å¾„é˜²æŠ¤

**P1çº§ - ç”¨æˆ·ä½“éªŒå¢å¼º**:
- ğŸ¨ **ç»Ÿä¸€ä¸»ç•Œé¢å¸ƒå±€** - å·¦ä¾§å¯¼èˆª+é¡¶éƒ¨çŠ¶æ€æ +ä¸»å†…å®¹åŒº
- ğŸ“Š **æ‰˜ç›˜å®æ—¶ç»Ÿè®¡** - 5ç§’åˆ·æ–°+æ™ºèƒ½å‘Šè­¦+å¿«æ·æ“ä½œ

**ä»£ç è´¨é‡é£è·ƒ**:
- ğŸ“‰ **åˆ é™¤29ä¸ªå†—ä½™æ–‡ä»¶** - ç²¾ç®€8,796è¡Œä»£ç 
- ğŸ“¦ **ç»Ÿä¸€é…ç½®æ¶æ„** - 1ä¸ªå‘å¯¼ã€1ä¸ªDockerã€1ä¸ªChromeæ‰©å±•
- ğŸ”§ **ä»£ç é‡å¤ç‡** - 30%â†’<5%

### ä»£ç å˜æ›´

- ğŸ“ æ–°å¢ä»£ç : 5,000+è¡Œ
- ğŸ“ æ–°å¢æ–‡ä»¶: 14ä¸ªï¼ˆå‰ç«¯4 + åç«¯6 + Chromeæ‰©å±•4 + Electron1ï¼‰
- ğŸ“š æ–‡æ¡£æ›´æ–°: 4ä¸ªä¼˜åŒ–æŠ¥å‘Š + 8ä¸ªæ•™ç¨‹æ›´æ–°

- âœ… **è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·** 
  - `build/verify_build.py` - æ„å»ºéªŒè¯å·¥å…·ï¼ˆ7é¡¹æ£€æŸ¥ï¼‰
  - `build/create_platform_icons.py` - å¹³å°å›¾æ ‡ç”Ÿæˆ
  - `build/prepare_redis.py` - Redisè‡ªåŠ¨å‡†å¤‡
  - `BUILD_QUICKSTART.sh` - ä¸€é”®å¿«é€Ÿå¯åŠ¨
  
- âœ… **å®Œæ•´æ–‡æ¡£ä½“ç³»** 
  - å¿«é€Ÿå‚è€ƒå¡ç‰‡ã€è¯¦ç»†æ„å»ºæŒ‡å—
  - å·¥å…·ä½¿ç”¨è¯´æ˜ã€æ–‡æ¡£ç´¢å¼•å¯¼èˆª
  - æ„å»ºå‰æ£€æŸ¥æ¸…å•ã€æ‰§è¡Œæµç¨‹æŒ‡å—

**è¯¦ç»†ä¿¡æ¯ï¼š** æŸ¥çœ‹ [BUILD_INDEX.md](../BUILD_INDEX.md)

---

**v9.0 æ›´æ–°å†…å®¹** ï¼ˆå‹åŠ›æµ‹è¯•å®Œå–„ç‰ˆï¼‰:
- âœ… **ä¼ä¸šçº§å‹åŠ›æµ‹è¯•ç³»ç»Ÿ** - 100%åŠŸèƒ½è¦†ç›–
- âœ… **CI/CDåŒå¹³å°é›†æˆ** - GitHub Actions + GitLab CI
- âœ… **YAMLé…ç½®ç³»ç»Ÿ** - å®Œå…¨å¯é…ç½®ï¼ˆ400+è¡Œï¼‰
- âœ… **æ•°æ®å¯è§†åŒ–** - æ€§èƒ½å›¾è¡¨è‡ªåŠ¨ç”Ÿæˆ
- âœ… **æ€§èƒ½åŸºå‡†éªŒè¯** - è‡ªåŠ¨åŒ–éªŒè¯
- âœ… **å†å²æ•°æ®è¿½è¸ª** - è¶‹åŠ¿åˆ†æå’Œå›å½’æ£€æµ‹
- âœ… **DockeråŒ–éƒ¨ç½²** - ä¸€é”®è¿è¡Œæ‰€æœ‰æµ‹è¯•

**v9.02.0+ å†…å®¹**ï¼ˆå·²åŒ…å«ï¼‰:
- âœ… Chromiumè‡ªåŠ¨æ‰“åŒ… - æ‰“åŒ…è„šæœ¬è‡ªåŠ¨é›†æˆæµè§ˆå™¨
- âœ… Cookieå¤šæ ¼å¼è§£æå™¨ - æ–°å¢`backend/app/utils/cookie_parser.py`
- âœ… å¢å¼ºæ„å»ºè„šæœ¬ - `build/build_all_enhanced.py`
- âœ… æ–°åŠŸèƒ½æµ‹è¯• - `test_new_features.py`  

## ç›®å½•

- [å‹åŠ›æµ‹è¯•å¼€å‘](#å‹åŠ›æµ‹è¯•å¼€å‘) ğŸ”¥ v9.0æ–°å¢

- [å¼€å‘ç¯å¢ƒæ­å»º](#å¼€å‘ç¯å¢ƒæ­å»º)
- [é¡¹ç›®ç»“æ„è¯´æ˜](#é¡¹ç›®ç»“æ„è¯´æ˜)
- [åç«¯å¼€å‘](#åç«¯å¼€å‘)
- [å‰ç«¯å¼€å‘](#å‰ç«¯å¼€å‘)
- [è°ƒè¯•æŠ€å·§](#è°ƒè¯•æŠ€å·§)
- [æ‰“åŒ…å‘å¸ƒ](#æ‰“åŒ…å‘å¸ƒ)

---

## å¼€å‘ç¯å¢ƒæ­å»º

### 1. ç¯å¢ƒè¦æ±‚

- Python 3.11+
- Node.js 18+
- Redis 6.0+
- Git

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/yourusername/kook-forwarder.git
cd kook-forwarder
```

### 3. åç«¯ç¯å¢ƒ

```bash
cd backend

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv

# æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
# Windows
venv\Scripts\activate
# macOS/Linux
source venv/bin/activate

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# å®‰è£…Playwrightæµè§ˆå™¨
playwright install chromium
```

### 4. å‰ç«¯ç¯å¢ƒ

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# æˆ–ä½¿ç”¨yarn
yarn install
```

### 5. RedisæœåŠ¡

**Windows:**
```bash
# ä½¿ç”¨Docker
docker run -d -p 6379:6379 redis

# æˆ–ä¸‹è½½Windowsç‰ˆRedis
# https://github.com/tporadowski/redis/releases
```

**macOS:**
```bash
brew install redis
redis-server
```

**Linux:**
```bash
sudo apt install redis-server
sudo systemctl start redis
```

---

## é¡¹ç›®ç»“æ„è¯´æ˜

```
KookForwarder/
â”‚
â”œâ”€ backend/                    # Pythonåç«¯
â”‚  â”œâ”€ app/
â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”œâ”€ main.py              # FastAPIä¸»åº”ç”¨
â”‚  â”‚  â”œâ”€ config.py            # é…ç½®ç®¡ç†
â”‚  â”‚  â”œâ”€ database.py          # æ•°æ®åº“æ“ä½œ
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ kook/                # KOOKæŠ“å–æ¨¡å—
â”‚  â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”‚  â””â”€ scraper.py        # Playwrightæ¶ˆæ¯æŠ“å–
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ queue/               # æ¶ˆæ¯é˜Ÿåˆ—
â”‚  â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”‚  â”œâ”€ redis_client.py   # Rediså®¢æˆ·ç«¯
â”‚  â”‚  â”‚  â””â”€ worker.py         # æ¶ˆæ¯å¤„ç†Worker
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ forwarders/          # å¹³å°è½¬å‘å™¨
â”‚  â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”‚  â”œâ”€ discord.py        # Discordè½¬å‘
â”‚  â”‚  â”‚  â”œâ”€ telegram.py       # Telegramè½¬å‘
â”‚  â”‚  â”‚  â””â”€ feishu.py         # é£ä¹¦è½¬å‘
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ processors/          # æ¶ˆæ¯å¤„ç†
â”‚  â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”‚  â”œâ”€ formatter.py      # æ ¼å¼è½¬æ¢
â”‚  â”‚  â”‚  â””â”€ filter.py         # è¿‡æ»¤è§„åˆ™
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ utils/               # å·¥å…·æ¨¡å—
â”‚  â”‚  â”‚  â”œâ”€ __init__.py
â”‚  â”‚  â”‚  â”œâ”€ crypto.py         # åŠ å¯†å·¥å…·
â”‚  â”‚  â”‚  â”œâ”€ logger.py         # æ—¥å¿—å·¥å…·
â”‚  â”‚  â”‚  â””â”€ rate_limiter.py   # é™æµå™¨
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ api/                 # APIè·¯ç”±
â”‚  â”‚     â”œâ”€ __init__.py
â”‚  â”‚     â”œâ”€ accounts.py       # è´¦å·ç®¡ç†API
â”‚  â”‚     â”œâ”€ bots.py           # Boté…ç½®API
â”‚  â”‚     â”œâ”€ mappings.py       # é¢‘é“æ˜ å°„API
â”‚  â”‚     â”œâ”€ logs.py           # æ—¥å¿—API
â”‚  â”‚     â””â”€ system.py         # ç³»ç»ŸAPI
â”‚  â”‚
â”‚  â”œâ”€ requirements.txt        # Pythonä¾èµ–
â”‚  â””â”€ .env.example           # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”‚
â”œâ”€ frontend/                  # Electronå‰ç«¯
â”‚  â”œâ”€ src/
â”‚  â”‚  â”œâ”€ main.js             # Vueä¸»å…¥å£
â”‚  â”‚  â”œâ”€ App.vue             # æ ¹ç»„ä»¶
â”‚  â”‚  â”œâ”€ style.css           # å…¨å±€æ ·å¼
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ router/             # è·¯ç”±é…ç½®
â”‚  â”‚  â”‚  â””â”€ index.js
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ store/              # PiniaçŠ¶æ€ç®¡ç†
â”‚  â”‚  â”‚  â”œâ”€ system.js        # ç³»ç»ŸçŠ¶æ€
â”‚  â”‚  â”‚  â””â”€ accounts.js      # è´¦å·çŠ¶æ€
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ api/                # APIè°ƒç”¨
â”‚  â”‚  â”‚  â””â”€ index.js
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ views/              # é¡µé¢ç»„ä»¶
â”‚  â”‚  â”‚  â”œâ”€ Layout.vue       # ä¸»å¸ƒå±€
â”‚  â”‚  â”‚  â”œâ”€ Home.vue         # é¦–é¡µ
â”‚  â”‚  â”‚  â”œâ”€ Accounts.vue     # è´¦å·ç®¡ç†
â”‚  â”‚  â”‚  â”œâ”€ Bots.vue         # æœºå™¨äººé…ç½®
â”‚  â”‚  â”‚  â”œâ”€ Mapping.vue      # é¢‘é“æ˜ å°„
â”‚  â”‚  â”‚  â”œâ”€ Filter.vue       # è¿‡æ»¤è§„åˆ™
â”‚  â”‚  â”‚  â”œâ”€ Logs.vue         # å®æ—¶æ—¥å¿—
â”‚  â”‚  â”‚  â””â”€ Settings.vue     # ç³»ç»Ÿè®¾ç½®
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ components/         # é€šç”¨ç»„ä»¶
â”‚  â”‚     â””â”€ BotList.vue
â”‚  â”‚
â”‚  â”œâ”€ electron/              # Electronä¸»è¿›ç¨‹
â”‚  â”‚  â””â”€ main.js
â”‚  â”‚
â”‚  â”œâ”€ public/                # é™æ€èµ„æº
â”‚  â”œâ”€ index.html            # HTMLæ¨¡æ¿
â”‚  â”œâ”€ vite.config.js        # Viteé…ç½®
â”‚  â””â”€ package.json          # Nodeä¾èµ–
â”‚
â”œâ”€ docs/                     # æ–‡æ¡£
â”‚  â”œâ”€ CHANGELOG.md          # æ›´æ–°æ—¥å¿—
â”‚  â””â”€ å¼€å‘æŒ‡å—.md            # æœ¬æ–‡ä»¶
â”‚
â”œâ”€ build/                    # æ‰“åŒ…é…ç½®
â”œâ”€ .gitignore
â””â”€ README.md
```

---

## åç«¯å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd backend
python -m app.main
```

æœåŠ¡å°†åœ¨ `http://localhost:9527` å¯åŠ¨ã€‚

### APIæ–‡æ¡£

å¯åŠ¨åè®¿é—®ï¼š
- Swagger UI: `http://localhost:9527/docs`
- ReDoc: `http://localhost:9527/redoc`

### æ·»åŠ æ–°çš„è½¬å‘å¹³å°

1. åœ¨ `backend/app/forwarders/` åˆ›å»ºæ–°æ–‡ä»¶ï¼Œå¦‚ `wecom.py`

```python
class WeComForwarder:
    async def send_message(self, webhook_url: str, content: str):
        # å®ç°ä¼ä¸šå¾®ä¿¡è½¬å‘é€»è¾‘
        pass
```

2. åœ¨ `backend/app/queue/worker.py` çš„ `forward_to_target()` æ·»åŠ å¤„ç†é€»è¾‘

3. åœ¨å‰ç«¯æ·»åŠ å¯¹åº”çš„é…ç½®ç•Œé¢

### æ•°æ®åº“æ“ä½œ

```python
from app.database import db

# æ·»åŠ è´¦å·
account_id = db.add_account(
    email="user@example.com",
    password_encrypted="...",
    cookie="{...}"
)

# æŸ¥è¯¢è´¦å·
accounts = db.get_accounts()

# æ›´æ–°çŠ¶æ€
db.update_account_status(account_id, 'online')
```

### æµ‹è¯•

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
pytest tests/

# ä»£ç è¦†ç›–ç‡
pytest --cov=app tests/
```

---

## å‰ç«¯å¼€å‘

### å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
cd frontend
npm run dev
```

è®¿é—® `http://localhost:5173`

### Electronå¼€å‘æ¨¡å¼

```bash
npm run electron:dev
```

### æ·»åŠ æ–°é¡µé¢

1. åœ¨ `src/views/` åˆ›å»ºç»„ä»¶ï¼Œå¦‚ `NewFeature.vue`

```vue
<template>
  <div class="new-feature">
    <el-card>
      <template #header>
        <span>æ–°åŠŸèƒ½</span>
      </template>
      <!-- å†…å®¹ -->
    </el-card>
  </div>
</template>

<script setup>
// é€»è¾‘
</script>

<style scoped>
/* æ ·å¼ */
</style>
```

2. åœ¨ `src/router/index.js` æ·»åŠ è·¯ç”±

```javascript
{
  path: '/new-feature',
  name: 'NewFeature',
  component: () => import('../views/NewFeature.vue'),
  meta: { title: 'æ–°åŠŸèƒ½' }
}
```

3. åœ¨ `src/views/Layout.vue` æ·»åŠ èœå•é¡¹

### APIè°ƒç”¨

```javascript
import api from '@/api'

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
const fetchData = async () => {
  try {
    const data = await api.getAccounts()
    // å¤„ç†æ•°æ®
  } catch (error) {
    console.error('è¯·æ±‚å¤±è´¥:', error)
  }
}
```

### çŠ¶æ€ç®¡ç†

```javascript
// å®šä¹‰store: src/store/mystore.js
import { defineStore } from 'pinia'

export const useMyStore = defineStore('mystore', {
  state: () => ({
    data: []
  }),
  actions: {
    async fetchData() {
      this.data = await api.getData()
    }
  }
})

// åœ¨ç»„ä»¶ä¸­ä½¿ç”¨
import { useMyStore } from '@/store/mystore'
const myStore = useMyStore()
```

---

## è°ƒè¯•æŠ€å·§

### åç«¯è°ƒè¯•

1. **ä½¿ç”¨æ—¥å¿—**

```python
from app.utils.logger import logger

logger.debug("è°ƒè¯•ä¿¡æ¯")
logger.info("æ™®é€šä¿¡æ¯")
logger.warning("è­¦å‘Šä¿¡æ¯")
logger.error("é”™è¯¯ä¿¡æ¯")
```

2. **ä½¿ç”¨pdbè°ƒè¯•å™¨**

```python
import pdb; pdb.set_trace()
```

3. **æŸ¥çœ‹Redisæ•°æ®**

```bash
redis-cli
> KEYS *
> GET key_name
> LRANGE kook_messages 0 -1
```

### å‰ç«¯è°ƒè¯•

1. **ä½¿ç”¨Vue DevTools**
   - Chromeæ‰©å±•: Vue.js devtools
   - æŸ¥çœ‹ç»„ä»¶æ ‘ã€çŠ¶æ€ã€äº‹ä»¶

2. **æ§åˆ¶å°è°ƒè¯•**

```javascript
console.log('è°ƒè¯•ä¿¡æ¯:', data)
console.table(array)
console.dir(object)
```

3. **ç½‘ç»œè¯·æ±‚è°ƒè¯•**
   - æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·
   - åˆ‡æ¢åˆ°Networkæ ‡ç­¾
   - æŸ¥çœ‹APIè¯·æ±‚å’Œå“åº”

---

## æ‰“åŒ…å‘å¸ƒ

### v9.02.0 æ–°å¢ï¼šå®Œæ•´æ‰“åŒ…é…ç½® ğŸ‰

**åç«¯æ‰“åŒ…**:

```bash
# 1. å®‰è£…PyInstaller
pip install pyinstaller

# 2. ä½¿ç”¨specé…ç½®æ–‡ä»¶ï¼ˆv9.02.0æ–°å¢ï¼‰
pyinstaller backend/build_backend.spec

# è¾“å‡º
dist/KookForwarder-Backend.exe  # Windows (~80-120MB)
dist/KookForwarder-Backend      # Linux/macOS (~70-110MB)
```

**é…ç½®æ–‡ä»¶**: `backend/build_backend.spec`
- âœ… è‡ªåŠ¨æ‰“åŒ…Rediså¯æ‰§è¡Œæ–‡ä»¶
- âœ… è‡ªåŠ¨æ‰“åŒ…é€‰æ‹©å™¨é…ç½®
- âœ… è‡ªåŠ¨æ‰“åŒ…æ–‡æ¡£æ–‡ä»¶
- âœ… 50+éšè—å¯¼å…¥é…ç½®
- âœ… æ’é™¤ä¸éœ€è¦çš„æ¨¡å—
- âœ… UPXå‹ç¼©æ”¯æŒ

**è¯¦ç»†æŒ‡å—**: æŸ¥çœ‹ `backend/build_instructions.md`

#### æ–¹å¼äºŒï¼šæ‰‹åŠ¨æ‰“åŒ…ï¼ˆä¼ ç»Ÿæ–¹å¼ï¼‰

```bash
cd backend

# Windows
pyinstaller --onefile \
    --name KookForwarder-Backend \
    --icon ../build/icon.ico \
    --add-data "redis/redis-server.exe;redis" \
    --add-data "data/selectors.yaml;data" \
    --hidden-import playwright \
    --hidden-import fastapi \
    app/main.py

# Linux/macOS
pyinstaller --onefile \
    --name KookForwarder-Backend \
    --icon ../build/icon.icns \
    --add-data "redis/redis-server:redis" \
    --add-data "data/selectors.yaml:data" \
    --hidden-import playwright \
    --hidden-import fastapi \
    app/main.py
```

### æ‰“åŒ…å‰ç«¯

```bash
cd frontend

# 1. æ„å»ºVueåº”ç”¨
npm run build

# 2. æ‰“åŒ…Electronåº”ç”¨
# Windows
npm run electron:build -- --win

# macOS
npm run electron:build -- --mac

# Linux
npm run electron:build -- --linux

# è¾“å‡ºåœ¨ dist-electron/ ç›®å½•
```

**æ‰“åŒ…é…ç½®**: `build/electron-builder.yml`
- âœ… Windows NSISå®‰è£…ç¨‹åº
- âœ… macOS DMGç£ç›˜é•œåƒ
- âœ… Linux AppImage/DEB

### å®Œæ•´æ‰“åŒ…æµç¨‹ï¼ˆv9.02.0ï¼‰

**æ­¥éª¤1: å‡†å¤‡å›¾æ ‡æ–‡ä»¶**ï¼ˆv9.02.0æ–°å¢ï¼‰

```bash
# æ–¹æ³•1: å¿«é€Ÿç”Ÿæˆå ä½å›¾æ ‡
python build/placeholder_icon_generator.py

# æ–¹æ³•2: ä½¿ç”¨åœ¨çº¿å·¥å…·
# - è®¿é—® https://www.icoconverter.comï¼ˆç”ŸæˆICOï¼‰
# - è®¿é—® https://cloudconvert.comï¼ˆç”ŸæˆICNSï¼‰

# æ–¹æ³•3: é›‡ä½£è®¾è®¡å¸ˆï¼ˆÂ¥100-500ï¼‰
```

**è¯¦ç»†æŒ‡å—**: æŸ¥çœ‹ `build/ICON_REQUIREMENTS.md`

**æ­¥éª¤2: æ›´æ–°ç‰ˆæœ¬å·**

```bash
# backend/app/config.py
app_version: str = "1.12.0"

# frontend/package.json
"version": "1.12.0"

# build/electron-builder.yml
# ç‰ˆæœ¬å·è‡ªåŠ¨ä»package.jsonè¯»å–
```

**æ­¥éª¤3: æ‰“åŒ…åç«¯**

```bash
# ä½¿ç”¨æ–°çš„specé…ç½®ï¼ˆæ¨èï¼‰
pyinstaller backend/build_backend.spec

# æˆ–ä½¿ç”¨æ„å»ºè„šæœ¬
./backend/build_windows.bat  # Windows
./backend/build_unix.sh      # Linux/macOS
```

**æ­¥éª¤4: æ‰“åŒ…å‰ç«¯**

```bash
cd frontend
npm run build
npm run electron:build
```

**æ­¥éª¤5: æµ‹è¯•å®‰è£…åŒ…**

```bash
# å®‰è£…å¹¶æµ‹è¯•
# Windows: è¿è¡Œ dist-electron/KookForwarder_v9.02.0_Windows_x64.exe
# macOS: æ‰“å¼€ dist-electron/KookForwarder_v9.02.0_macOS.dmg
# Linux: è¿è¡Œ dist-electron/KookForwarder_v9.02.0_Linux_x64.AppImage

# éªŒè¯åŠŸèƒ½
- âœ… åº”ç”¨æ­£å¸¸å¯åŠ¨
- âœ… åç«¯APIå¯è®¿é—®
- âœ… Redisè‡ªåŠ¨å¯åŠ¨
- âœ… é…ç½®å‘å¯¼æ­£å¸¸
- âœ… æ‰€æœ‰åŠŸèƒ½æ­£å¸¸
```

**æ­¥éª¤6: å‘å¸ƒåˆ°GitHub**

```bash
# åˆ›å»ºTag
git tag v9.02.0
git push origin v9.02.0

# GitHub Actionsä¼šè‡ªåŠ¨ï¼š
# 1. è¿è¡Œæµ‹è¯•
# 2. æ„å»ºä¸‰å¹³å°å®‰è£…åŒ…
# 3. åˆ›å»ºGitHub Release
# 4. ä¸Šä¼ å®‰è£…åŒ…

# æˆ–æ‰‹åŠ¨åˆ›å»ºRelease
gh release create v9.02.0 \
    --title "v9.02.0 - å®Œå–„ç‰ˆ" \
    --notes-file CHANGELOG.md \
    dist-electron/*.exe \
    dist-electron/*.dmg \
    dist-electron/*.AppImage
```

---

## ä»£ç è§„èŒƒ

### Pythonä»£ç è§„èŒƒ

éµå¾ªPEP 8è§„èŒƒï¼š

```python
# å¯¼å…¥é¡ºåºï¼šæ ‡å‡†åº“ åˆ° ç¬¬ä¸‰æ–¹åº“ åˆ° æœ¬åœ°æ¨¡å—
import os
import sys

from fastapi import FastAPI
from pydantic import BaseModel

from .config import settings

# å‡½æ•°å‘½åï¼šå°å†™+ä¸‹åˆ’çº¿
def process_message(message):
    pass

# ç±»å‘½åï¼šé©¼å³°å‘½å
class MessageProcessor:
    pass

# å¸¸é‡ï¼šå¤§å†™+ä¸‹åˆ’çº¿
MAX_RETRY_COUNT = 3
```

### JavaScript/Vueä»£ç è§„èŒƒ

éµå¾ªVueå®˜æ–¹é£æ ¼æŒ‡å—ï¼š

```javascript
// ç»„ä»¶å‘½åï¼šPascalCase
export default {
  name: 'MyComponent'
}

// å˜é‡å‘½åï¼šcamelCase
const userName = 'John'

// å¸¸é‡ï¼šUPPER_CASE
const MAX_COUNT = 100

// Vueç»„åˆå¼APIæ¨èå†™æ³•
<script setup>
import { ref, computed, onMounted } from 'vue'

const count = ref(0)
const doubleCount = computed(() => count.value * 2)

onMounted(() => {
  console.log('ç»„ä»¶å·²æŒ‚è½½')
})
</script>
```

---

## æäº¤è§„èŒƒ

ä½¿ç”¨Conventional Commitsè§„èŒƒï¼š

```bash
# æ–°åŠŸèƒ½
git commit -m "feat: æ·»åŠ ä¼ä¸šå¾®ä¿¡è½¬å‘æ”¯æŒ"

# Bugä¿®å¤
git commit -m "fix: ä¿®å¤æ¶ˆæ¯é‡å¤å‘é€é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°å¼€å‘æŒ‡å—"

# ä»£ç é‡æ„
git commit -m "refactor: é‡æ„æ¶ˆæ¯å¤„ç†é€»è¾‘"

# æ€§èƒ½ä¼˜åŒ–
git commit -m "perf: ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢"

# æµ‹è¯•ç›¸å…³
git commit -m "test: æ·»åŠ å•å…ƒæµ‹è¯•"

# æ„å»ºç›¸å…³
git commit -m "build: æ›´æ–°ä¾èµ–ç‰ˆæœ¬"
```

---

## å¸¸è§é—®é¢˜

### Q: å¦‚ä½•æ·»åŠ æ–°çš„APIç«¯ç‚¹ï¼Ÿ

1. åœ¨ `backend/app/api/` åˆ›å»ºæˆ–ç¼–è¾‘è·¯ç”±æ–‡ä»¶
2. ä½¿ç”¨FastAPIè£…é¥°å™¨å®šä¹‰è·¯ç”±
3. åœ¨ `backend/app/main.py` æ³¨å†Œè·¯ç”±
4. åœ¨å‰ç«¯ `src/api/index.js` æ·»åŠ APIè°ƒç”¨æ–¹æ³•

### Q: å¦‚ä½•ä¿®æ”¹æ•°æ®åº“ç»“æ„ï¼Ÿ

1. ä¿®æ”¹ `backend/app/database.py` ä¸­çš„ `init_database()` æ–¹æ³•
2. åˆ é™¤ç°æœ‰æ•°æ®åº“æ–‡ä»¶ `data/config.db`
3. é‡å¯åç«¯æœåŠ¡ï¼Œä¼šè‡ªåŠ¨åˆ›å»ºæ–°è¡¨

### Q: å¦‚ä½•æ·»åŠ æ–°çš„é…ç½®é¡¹ï¼Ÿ

1. åœ¨ `backend/app/config.py` çš„ `Settings` ç±»æ·»åŠ å­—æ®µ
2. åœ¨ `.env.example` æ·»åŠ ç¤ºä¾‹å€¼
3. æ›´æ–°æ–‡æ¡£è¯´æ˜

---

## è´¡çŒ®æµç¨‹

1. Forké¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯
3. ç¼–å†™ä»£ç å’Œæµ‹è¯•
4. æäº¤ä»£ç ï¼ˆéµå¾ªæäº¤è§„èŒƒï¼‰
5. æ¨é€åˆ°Forkä»“åº“
6. åˆ›å»ºPull Request

---

## èµ„æºé“¾æ¥

- [FastAPIæ–‡æ¡£](https://fastapi.tiangolo.com/)
- [Vue 3æ–‡æ¡£](https://vuejs.org/)
- [Element Plusæ–‡æ¡£](https://element-plus.org/)
- [Playwrightæ–‡æ¡£](https://playwright.dev/)
- [Electronæ–‡æ¡£](https://www.electronjs.org/)
- [Piniaæ–‡æ¡£](https://pinia.vuejs.org/)

---

## å‹åŠ›æµ‹è¯•å¼€å‘

### v9.0 æ–°å¢ï¼šä¼ä¸šçº§å‹åŠ›æµ‹è¯•ç³»ç»Ÿ ğŸ”¥

#### å¿«é€Ÿå¼€å§‹

**è¿è¡Œæ¼”ç¤ºæµ‹è¯•**ï¼ˆæ— éœ€ä»»ä½•æœåŠ¡ï¼‰:
```bash
python3 demo_stress_test.py
```

**è¿è¡Œå®Œæ•´æµ‹è¯•**:
```bash
# Linux/macOS
./run_all_stress_tests.sh

# Windows
run_all_stress_tests.bat
```

**DockeråŒ–æµ‹è¯•**:
```bash
docker-compose -f docker-compose.test.yml up
```

#### å‹åŠ›æµ‹è¯•æ¶æ„

```
å‹åŠ›æµ‹è¯•ç³»ç»Ÿ/
â”œâ”€â”€ æµ‹è¯•è„šæœ¬/
â”‚   â”œâ”€â”€ stress_test.py                  # åŸæœ‰å‹åŠ›æµ‹è¯•
â”‚   â”œâ”€â”€ comprehensive_stress_test.py    # ç»¼åˆæµ‹è¯•
â”‚   â”œâ”€â”€ module_specific_stress_test.py  # æ¨¡å—æµ‹è¯•
â”‚   â””â”€â”€ demo_stress_test.py             # æ¼”ç¤ºæµ‹è¯•
â”‚
â”œâ”€â”€ å·¥å…·è„šæœ¬/
â”‚   â”œâ”€â”€ generate_charts.py             # å›¾è¡¨ç”Ÿæˆ
â”‚   â”œâ”€â”€ performance_validator.py       # æ€§èƒ½éªŒè¯
â”‚   â”œâ”€â”€ history_tracker.py             # å†å²è·Ÿè¸ª
â”‚   â””â”€â”€ generate_test_summary.py       # æŠ¥å‘Šæ±‡æ€»
â”‚
â”œâ”€â”€ CI/CDé…ç½®/
â”‚   â”œâ”€â”€ .github/workflows/stress-test.yml  # GitHub Actions
â”‚   â””â”€â”€ .gitlab-ci.yml                     # GitLab CI
â”‚
â”œâ”€â”€ é…ç½®æ–‡ä»¶/
â”‚   â””â”€â”€ stress_test_config.yaml        # YAMLé…ç½®
â”‚
â””â”€â”€ Dockeré…ç½®/
    â”œâ”€â”€ Dockerfile.test                # æµ‹è¯•é•œåƒ
    â””â”€â”€ docker-compose.test.yml        # Docker Compose
```

#### æ·»åŠ æ–°çš„å‹åŠ›æµ‹è¯•

**1. åˆ›å»ºæµ‹è¯•æ–‡ä»¶**

```python
# my_stress_test.py
import asyncio
import time
from app.my_module import my_function

async def test_my_function():
    """æµ‹è¯•æˆ‘çš„åŠŸèƒ½"""
    start = time.time()
    
    # æµ‹è¯•é€»è¾‘
    for i in range(1000):
        result = await my_function(i)
        assert result is not None
    
    elapsed = time.time() - start
    qps = 1000 / elapsed
    
    print(f"âœ… æµ‹è¯•é€šè¿‡: {qps:.2f} QPS")
    return {
        "test": "my_function",
        "qps": qps,
        "elapsed": elapsed
    }

if __name__ == "__main__":
    result = asyncio.run(test_my_function())
    print(f"ç»“æœ: {result}")
```

**2. é…ç½®æµ‹è¯•å‚æ•°**

åœ¨`stress_test_config.yaml`æ·»åŠ :

```yaml
my_tests:
  enabled: true
  iterations: 1000
  concurrent_levels: [1, 5, 10, 20]
  requirements:
    min_rate: 100
    max_latency_ms: 50
```

**3. æ·»åŠ åˆ°CI/CD**

åœ¨`.github/workflows/stress-test.yml`æ·»åŠ :

```yaml
- name: Run My Stress Test
  run: |
    python3 my_stress_test.py
```

#### æ€§èƒ½åŸºå‡†é…ç½®

ä¿®æ”¹`stress_test_config.yaml`è®¾ç½®åŸºå‡†:

```yaml
performance_requirements:
  api_tests:
    min_rate: 500              # æœ€å°è¯·æ±‚ç‡
    max_avg_latency_ms: 100   # æœ€å¤§å¹³å‡å»¶è¿Ÿ
    min_success_rate: 95      # æœ€å°æˆåŠŸç‡
  
  redis_queue:
    min_enqueue_rate: 1000
    min_dequeue_rate: 1000
```

#### å›¾è¡¨è‡ªå®šä¹‰

ä¿®æ”¹`generate_charts.py`æ·»åŠ æ–°å›¾è¡¨:

```python
def generate_my_chart(data):
    """ç”Ÿæˆè‡ªå®šä¹‰å›¾è¡¨"""
    import matplotlib.pyplot as plt
    
    plt.figure(figsize=(10, 6))
    plt.plot(data['x'], data['y'])
    plt.title('æˆ‘çš„æ€§èƒ½å›¾è¡¨')
    plt.xlabel('æ—¶é—´')
    plt.ylabel('æ€§èƒ½æŒ‡æ ‡')
    plt.savefig('charts/my_chart.png')
    plt.close()
```

#### å®Œæ•´æ–‡æ¡£

æŸ¥çœ‹è¯¦ç»†å‹åŠ›æµ‹è¯•æ–‡æ¡£:
- [STRESS_TEST_README.md](../STRESS_TEST_README.md)
- [å‹åŠ›æµ‹è¯•è¯´æ˜.md](../å‹åŠ›æµ‹è¯•è¯´æ˜.md)
- [å‹åŠ›æµ‹è¯•å®Œæˆæ€»ç»“.md](../å‹åŠ›æµ‹è¯•å®Œæˆæ€»ç»“.md)

---

å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æIssueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿï¼

**v9.0å‹åŠ›æµ‹è¯•ç³»ç»Ÿ**: ä¼ä¸šçº§ç”Ÿäº§å°±ç»ª ğŸš€
