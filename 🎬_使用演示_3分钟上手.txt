╔════════════════════════════════════════════════════════════════════╗
║                                                                    ║
║               🎬 3分钟快速上手 - 使用演示                          ║
║                                                                    ║
╚════════════════════════════════════════════════════════════════════╝

⏱️  阅读时间: 3分钟
🎯 学习目标: 快速掌握所有工具的使用方法
👥 适合人群: 所有用户（尤其是新手）

════════════════════════════════════════════════════════════════════
📚 第一步: 了解你拥有的工具（30秒）
════════════════════════════════════════════════════════════════════

你现在有以下工具可用:

┌─────────────────────────────────────────────────────────────────┐
│  🎯 最重要的3个文件（必看！）                                    │
├─────────────────────────────────────────────────────────────────┤
│  1. 📌_立即开始.txt               ← 你正在看的快速指南          │
│  2. ⚡_快速开始_解决问题.bat       ← 交互式控制台（最常用）⭐   │
│  3. 🎯_CMD全程操作指导...md        ← 详细操作手册（深入学习）    │
└─────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────┐
│  🛠️ 自动化工具                                                   │
├─────────────────────────────────────────────────────────────────┤
│  4. 一键运行所有测试.bat           ← 自动执行所有检查           │
│  5. scripts/check_database.py     ← 数据库检查脚本              │
│  6. scripts/test_redis.py         ← Redis测试脚本               │
│  7. scripts/verify_cookie_storage.py  ← Cookie验证              │
│  8. scripts/e2e_test_preparation.py   ← 端到端准备检查          │
│  9. scripts/monitor_system_health.py  ← 健康监控                │
│  10. scripts/generate_test_report.py  ← 报告生成器              │
└─────────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
🚀 第二步: 首次使用（1分钟）
════════════════════════════════════════════════════════════════════

【场景】我第一次使用，不知道系统状态如何

┌─────────────────────────────────────────────────────────────────┐
│  操作步骤:                                                        │
│                                                                   │
│  1. 找到文件: ⚡_快速开始_解决问题.bat                            │
│  2. 双击运行                                                      │
│  3. 看到菜单后，输入数字: 1                                       │
│  4. 按回车键                                                      │
│  5. 等待2-3分钟                                                   │
│  6. 查看诊断结果                                                  │
│                                                                   │
│  ✅ 完成！你已经知道系统的所有问题了                              │
└─────────────────────────────────────────────────────────────────┘

预期结果:
┌─────────────────────────────────────────────────────────────────┐
│  ════════════════════════════════════════════════════════════    │
│  🔍 一键诊断所有问题                                             │
│  ════════════════════════════════════════════════════════════    │
│                                                                   │
│  [1/6] 环境检查                                                   │
│  ✅ Python: 3.12.7                                                │
│  ✅ Node.js: v24.11.0                                             │
│  ✅ Git: 2.x                                                      │
│                                                                   │
│  [2/6] 数据库检查                                                 │
│  ✅ 数据库文件存在                                                │
│  ✅ 所有关键表都存在                                              │
│                                                                   │
│  [3/6] Redis检查                                                  │
│  ✅ Redis连接测试通过                                             │
│  （或: ℹ️  使用内置Redis）                                        │
│                                                                   │
│  [4/6] Cookie验证                                                 │
│  ⚠️  数据库中没有账号                                             │
│  ℹ️  请先在前端添加账号                                           │
│                                                                   │
│  [5/6] 端到端测试准备                                             │
│  ❌ 未配置KOOK账号                                                │
│  ❌ 未配置Bot                                                     │
│                                                                   │
│  [6/6] 生成系统报告                                               │
│  ✅ 报告已保存                                                    │
│                                                                   │
│  📊 完成度: 60%                                                   │
│  ⚠️  需要完成账号和Bot配置                                        │
│  ════════════════════════════════════════════════════════════    │
└─────────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
💡 第三步: 启动系统（1分钟）
════════════════════════════════════════════════════════════════════

【场景】诊断完成，现在要启动系统

┌─────────────────────────────────────────────────────────────────┐
│  操作步骤:                                                        │
│                                                                   │
│  1. 在刚才的菜单中，输入数字: 2                                   │
│  2. 按回车键                                                      │
│  3. 等待30秒                                                      │
│  4. 浏览器自动打开 http://localhost:5173                          │
│                                                                   │
│  ✅ 完成！系统已启动                                              │
└─────────────────────────────────────────────────────────────────┘

预期结果:
┌─────────────────────────────────────────────────────────────────┐
│  ════════════════════════════════════════════════════════════    │
│  🚀 快速启动系统                                                  │
│  ════════════════════════════════════════════════════════════    │
│                                                                   │
│  [1/3] 启动Redis服务...                                           │
│  ✅ Redis服务已启动                                               │
│                                                                   │
│  [2/3] 启动后端服务（端口 9527）...                               │
│  ⏳ 等待后端启动（10秒）...                                       │
│  ✅ 后端服务已启动                                                │
│                                                                   │
│  [3/3] 启动前端服务（端口 5173）...                               │
│  ⏳ 等待前端启动（5秒）...                                        │
│  ✅ 前端服务已启动                                                │
│                                                                   │
│  ════════════════════════════════════════════════════════════    │
│  ✅ 系统启动完成！                                                │
│  ════════════════════════════════════════════════════════════    │
│                                                                   │
│  📱 前端地址: http://localhost:5173                               │
│  🔧 后端地址: http://localhost:9527                               │
│  📚 API文档: http://localhost:9527/docs                           │
│                                                                   │
│  🌐 正在打开前端界面...                                           │
│  ════════════════════════════════════════════════════════════    │
└─────────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
🔧 第四步: 配置系统（在前端界面操作）
════════════════════════════════════════════════════════════════════

【场景】系统已启动，需要添加账号和配置Bot

1️⃣  添加KOOK账号
   ┌────────────────────────────────────────────────────────────┐
   │  位置: 前端界面 → 左侧菜单 → "账号管理"                     │
   │  操作: 点击 "添加账号" 按钮                                 │
   │  填写:                                                       │
   │    - 邮箱: 你的KOOK邮箱                                     │
   │    - 密码: 你的KOOK密码（可选）                             │
   │    - Cookie: 从浏览器复制（见下方说明）                    │
   │  保存: 点击 "保存" 按钮                                     │
   └────────────────────────────────────────────────────────────┘

   💡 如何获取Cookie:
   ┌────────────────────────────────────────────────────────────┐
   │  方法1: 使用浏览器扩展（推荐）                              │
   │    1. 安装扩展: EditThisCookie 或 Cookie-Editor           │
   │    2. 访问 https://www.kookapp.cn                          │
   │    3. 登录你的账号                                          │
   │    4. 点击扩展图标                                          │
   │    5. 点击 "导出" → 复制所有Cookie                         │
   │    6. 粘贴到系统的Cookie输入框                             │
   │                                                             │
   │  方法2: 使用项目自带的Chrome扩展                            │
   │    1. 打开Chrome → 更多工具 → 扩展程序                     │
   │    2. 开启 "开发者模式"                                     │
   │    3. 点击 "加载已解压的扩展程序"                           │
   │    4. 选择项目中的 chrome-extension 文件夹                 │
   │    5. 访问KOOK并登录                                        │
   │    6. 点击扩展图标导出Cookie                               │
   └────────────────────────────────────────────────────────────┘

2️⃣  配置目标Bot
   ┌────────────────────────────────────────────────────────────┐
   │  位置: 前端界面 → 左侧菜单 → "Bot配置"                      │
   │  操作: 点击 "添加Bot" 按钮                                  │
   │  选择平台:                                                   │
   │    □ Discord                                                │
   │    □ Telegram                                               │
   │    □ 飞书                                                   │
   │    □ 钉钉                                                   │
   │    □ 企业微信                                               │
   │  填写: Webhook URL 或 Bot Token                             │
   │  保存: 点击 "保存" 按钮                                     │
   └────────────────────────────────────────────────────────────┘

3️⃣  创建频道映射
   ┌────────────────────────────────────────────────────────────┐
   │  位置: 前端界面 → 左侧菜单 → "频道映射"                     │
   │  操作: 点击 "添加映射" 按钮                                 │
   │  配置:                                                       │
   │    - 选择KOOK频道（会自动列出）                             │
   │    - 选择目标Bot                                            │
   │    - 设置过滤规则（可选）                                   │
   │  保存: 点击 "保存" 按钮                                     │
   └────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
✅ 第五步: 验证功能（1分钟）
════════════════════════════════════════════════════════════════════

【场景】配置完成，测试转发是否正常

┌─────────────────────────────────────────────────────────────────┐
│  操作步骤:                                                        │
│                                                                   │
│  1. 在前端界面，找到刚添加的账号                                  │
│  2. 点击 "启动监听" 按钮                                          │
│  3. 等待状态变为 "运行中"                                         │
│  4. 在KOOK的对应频道发送一条测试消息                              │
│  5. 检查目标平台是否收到消息                                      │
│                                                                   │
│  ✅ 如果收到了，说明转发成功！                                    │
│  ❌ 如果没收到，检查:                                             │
│     - Cookie是否有效                                              │
│     - Bot配置是否正确                                             │
│     - 频道映射是否启用                                            │
│     - 查看后端日志（CMD窗口）                                     │
└─────────────────────────────────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
🎯 常用操作速查表
════════════════════════════════════════════════════════════════════

┌───────────────────────────┬─────────────────────────────────────┐
│  想要做什么？              │  怎么做？                            │
├───────────────────────────┼─────────────────────────────────────┤
│  检查系统状态              │  控制台 → [1]                        │
│  启动系统                  │  控制台 → [2]                        │
│  生成状态报告              │  控制台 → [3]                        │
│  检查数据库                │  控制台 → [4]                        │
│  检查Redis                 │  控制台 → [5]                        │
│  验证Cookie                │  控制台 → [6]                        │
│  端到端测试准备            │  控制台 → [7]                        │
│  健康监控                  │  控制台 → [8]                        │
│  查看详细文档              │  控制台 → [9]                        │
│  重置数据库                │  控制台 → [10]                       │
│  打开主控制台              │  控制台 → [11]                       │
└───────────────────────────┴─────────────────────────────────────┘

════════════════════════════════════════════════════════════════════
🐛 常见问题解决
════════════════════════════════════════════════════════════════════

问题1: 双击BAT文件没反应
─────────────────────────────────────────────────────────
解决: 右键点击 → "以管理员身份运行"

问题2: Python命令不存在
─────────────────────────────────────────────────────────
解决: 1. 尝试使用 python3 命令
      2. 重新安装Python并勾选 "Add to PATH"

问题3: 端口被占用
─────────────────────────────────────────────────────────
解决: 1. 关闭占用端口的程序
      2. 或使用控制台 [2] 强制重启

问题4: Redis连接失败
─────────────────────────────────────────────────────────
解决: 不用担心！系统会自动使用内置Redis

问题5: Cookie更新后还是不能用
─────────────────────────────────────────────────────────
解决: 1. 确保复制了完整的Cookie（包括auth字段）
      2. 确保Cookie是最新的（重新登录KOOK后获取）
      3. 检查Cookie格式是否正确（应该是JSON格式）

问题6: 消息没有转发
─────────────────────────────────────────────────────────
解决: 1. 检查账号是否 "运行中"
      2. 检查Bot配置是否正确
      3. 检查频道映射是否启用
      4. 查看后端日志寻找错误信息

════════════════════════════════════════════════════════════════════
📚 进阶学习路径
════════════════════════════════════════════════════════════════════

Level 1: 基础使用（你现在在这里！）
─────────────────────────────────────────────────────────
  ✅ 使用交互式控制台
  ✅ 启动系统
  ✅ 添加账号和Bot
  ✅ 基本的消息转发

Level 2: 深入配置
─────────────────────────────────────────────────────────
  □ 配置消息过滤规则
  □ 自定义消息格式
  □ 配置多个账号和Bot
  □ 使用智能映射推荐

Level 3: 高级功能
─────────────────────────────────────────────────────────
  □ 查看完整的CMD操作手册
  □ 理解每个脚本的工作原理
  □ 自定义健康监控
  □ 性能优化

Level 4: 开发和扩展
─────────────────────────────────────────────────────────
  □ 阅读源代码
  □ 添加新的转发平台
  □ 开发自定义插件
  □ 贡献代码到项目

════════════════════════════════════════════════════════════════════
🎉 恭喜！你已经学会了基本使用
════════════════════════════════════════════════════════════════════

现在你可以:
✅ 随时使用交互式控制台检查系统
✅ 快速启动和停止系统
✅ 配置账号、Bot和映射
✅ 进行消息转发

下一步:
→ 阅读完整操作手册深入学习
→ 根据实际需求配置过滤规则
→ 运行长期稳定性测试

════════════════════════════════════════════════════════════════════

祝你使用愉快！🚀

有问题随时查看文档或运行控制台的帮助功能！

════════════════════════════════════════════════════════════════════
