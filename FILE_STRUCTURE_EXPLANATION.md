# 安装包文件结构说明

## 📦 为什么有3个文件？

您下载时看到的这些文件**不是编号**，而是一个完整的安全下载体系：

```
KOOK-Forwarder-v18.0.0-Windows.zip         ← 实际的安装包 (111MB)
KOOK-Forwarder-v18.0.0-Windows.zip.md5     ← MD5校验文件 (很小，几KB)
KOOK-Forwarder-v18.0.0-Windows.zip.sha256  ← SHA256校验文件 (很小，几KB)
```

---

## 🔐 每个文件的作用

### 1. `.zip` 文件 - 主安装包
**这是您真正需要的安装包本体**

- **大小**: 111MB
- **内容**: 
  - NSIS安装器
  - Python后端
  - 前端应用
  - 完整文档
- **作用**: 双击解压安装使用

---

### 2. `.md5` 文件 - MD5校验文件
**用于快速验证文件完整性**

- **大小**: 几KB（只包含一行文本）
- **内容**: 例如
  ```
  a1b2c3d4e5f6... KOOK-Forwarder-v18.0.0-Windows.zip
  ```
- **作用**: 
  - ✅ 验证文件下载是否完整
  - ✅ 检测文件是否被篡改
  - ⚡ 计算速度快

---

### 3. `.sha256` 文件 - SHA256校验文件
**用于高安全级别的文件验证**

- **大小**: 几KB（只包含一行文本）
- **内容**: 例如
  ```
  bd44148ce5029c147f600392a79eb3bc21a530ff91aff5f4c25a4872b5c922e8  KOOK-Forwarder-v18.0.0-Windows.zip
  ```
- **作用**: 
  - ✅ 高安全性验证
  - ✅ 防止文件被恶意替换
  - 🔒 更难伪造（比MD5更安全）

---

## 🤔 为什么需要校验文件？

### 场景1: 网络下载不完整
```
您的网络不稳定 → 文件下载到99% → 突然断了
如果没有校验 → 您不知道文件损坏 → 安装失败/运行出错
有了校验 → 立即发现问题 → 重新下载
```

### 场景2: 文件被篡改
```
黑客攻击 → 服务器被入侵 → 安装包被替换成恶意版本
如果没有校验 → 用户下载恶意软件 → 电脑被感染
有了校验 → 校验和不匹配 → 发现异常 → 避免危险
```

### 场景3: 镜像站下载
```
从第三方镜像下载 → 文件可能被修改
通过校验和 → 确保与官方版本一致 → 安全可靠
```

---

## 📥 您只需要下载哪个？

### 🎯 推荐方案（最安全）
下载全部3个文件，然后验证：

```powershell
# Windows PowerShell
# 1. 下载所有文件
Invoke-WebRequest -Uri "https://github.com/gfchfjh/CSBJJWT/releases/download/v18.0.0/KOOK-Forwarder-v18.0.0-Windows.zip" -OutFile "KOOK-v18.0.0.zip"
Invoke-WebRequest -Uri "https://github.com/gfchfjh/CSBJJWT/releases/download/v18.0.0/KOOK-Forwarder-v18.0.0-Windows.zip.sha256" -OutFile "KOOK-v18.0.0.zip.sha256"

# 2. 验证SHA256
$hash = (Get-FileHash -Path "KOOK-v18.0.0.zip" -Algorithm SHA256).Hash
$expected = (Get-Content "KOOK-v18.0.0.zip.sha256").Split()[0]
if ($hash -eq $expected) {
    Write-Host "✅ 文件校验成功，可以安全使用！" -ForegroundColor Green
} else {
    Write-Host "❌ 文件校验失败，请重新下载！" -ForegroundColor Red
}
```

### ⚡ 快速方案（跳过验证）
**只下载 `.zip` 文件**，直接使用

- ⚠️ 风险：无法验证文件完整性
- 💡 适用：网络稳定 + 信任下载源

---

## 🔍 如何使用校验文件？

### Windows系统

#### 方法1: PowerShell（推荐）
```powershell
# 验证SHA256
Get-FileHash -Path "KOOK-Forwarder-v18.0.0-Windows.zip" -Algorithm SHA256

# 对比输出的Hash值与.sha256文件中的值
```

#### 方法2: 命令提示符
```cmd
certutil -hashfile KOOK-Forwarder-v18.0.0-Windows.zip SHA256
```

### Linux系统

```bash
# 验证MD5
md5sum -c KOOK-Forwarder-v18.0.0-Windows.zip.md5

# 验证SHA256
sha256sum -c KOOK-Forwarder-v18.0.0-Windows.zip.sha256
```

---

## 🗑️ 可以删除校验文件吗？

### 可以删除的时机：

✅ **验证完成后**
```
1. 下载3个文件
2. 验证校验和 → 成功 ✅
3. 删除 .md5 和 .sha256 文件
4. 保留 .zip 文件使用
```

✅ **完全信任下载源**
```
如果您：
- 直接从GitHub官方下载
- 网络连接稳定
- 不担心文件被篡改
→ 可以只下载 .zip，不下载校验文件
```

❌ **不建议删除的情况：**
```
- 从第三方网站下载
- 网络不稳定
- 安装时出现奇怪错误
→ 保留校验文件，以便重新验证
```

---

## 💡 同类软件对比

### 其他项目的做法

#### Node.js
```
node-v20.0.0-win-x64.zip
node-v20.0.0-win-x64.zip.sha256      ← 也提供校验文件
node-v20.0.0-win-x64.zip.sig         ← 甚至提供GPG签名
```

#### Python
```
python-3.12.0-amd64.exe
python-3.12.0-amd64.exe.asc          ← GPG签名
```

#### Docker
```
docker-desktop-4.25.0-win.exe
docker-desktop-4.25.0-win.exe.sha256 ← SHA256校验
```

**所以，提供校验文件是业界标准做法** ✅

---

## 🎯 我们的最佳实践

### 为什么提供MD5和SHA256两种？

1. **MD5** - 快速验证
   - 计算速度快
   - 适合快速检查文件完整性
   - 兼容性好（所有系统都支持）

2. **SHA256** - 安全验证
   - 更高的安全性
   - 难以伪造
   - 现代加密标准

### 用户可以根据需求选择：
- 🚀 追求速度 → 用MD5
- 🔒 追求安全 → 用SHA256
- 🤷 不想验证 → 只下载zip

---

## 📋 总结

### 3个文件的关系

```
┌─────────────────────────────────────────┐
│  KOOK-Forwarder-v18.0.0-Windows.zip     │  ← 主文件（必需）
│  (111MB - 实际的安装包)                  │
└─────────────────────────────────────────┘
                    ↓
            ┌───────┴───────┐
            ↓               ↓
┌─────────────────┐  ┌──────────────────┐
│  .md5 文件       │  │  .sha256 文件     │  ← 校验文件（可选）
│  (几KB)          │  │  (几KB)           │
│  快速验证        │  │  安全验证         │
└─────────────────┘  └──────────────────┘
```

### 推荐下载方式

| 用户类型 | 下载文件 | 说明 |
|---------|---------|------|
| **普通用户** | 仅 `.zip` | 信任官方，网络稳定 |
| **谨慎用户** | `.zip` + `.sha256` | 验证后再用 |
| **安全专家** | 全部3个 | 双重验证 |

### 最终答案

**这不是"编号"，而是安全体系：**
- 1个主文件（.zip）
- 2个校验文件（.md5 + .sha256）
- **目的**: 保证您下载的文件安全、完整、可信

---

## ❓ 还有疑问？

### Q: 我一定要验证吗？
A: 不是必须的，但**强烈推荐**。就像：
- 买药要看生产日期 ✅
- 下载软件要验证完整性 ✅

### Q: 验证失败怎么办？
A: 
1. 重新下载文件
2. 检查网络连接
3. 尝试不同的下载源
4. 联系技术支持

### Q: 可以只提供一种校验吗？
A: 可以，但我们提供两种是为了：
- 兼容不同用户的习惯
- 提供多一层安全保障
- 遵循业界最佳实践

---

**希望这个解释清楚了！如有疑问，欢迎继续询问。** 😊
