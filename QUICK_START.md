# ⚡ KOOK消息转发系统 - 快速开始指南

**版本**: v3.1.0 Ultimate Edition  
**预计时间**: 10分钟  

---

## 📋 准备工作（5分钟）

### 系统要求

| 项目 | 最低要求 | 推荐配置 |
|------|---------|---------|
| **操作系统** | Windows 10 / macOS 10.15 / Ubuntu 20.04 | Windows 11 / macOS 13+ / Ubuntu 22.04 |
| **内存** | 4GB | 8GB+ |
| **磁盘空间** | 500MB | 10GB+ |
| **网络** | 稳定连接 | 10Mbps+ |

### 前置准备

**必需**:
- ✅ KOOK账号（已登录过网页版）
- ✅ 稳定的网络连接

**可选**（至少选一个）:
- 💬 Discord服务器（需要Webhook权限）
- ✈️ Telegram群组（需要创建Bot）
- 🏢 飞书企业（需要创建自建应用）

---

## 📥 第1步：安装应用（2分钟）

### Windows

```bash
# 1. 下载安装包
https://github.com/gfchfjh/CSBJJWT/releases/latest
  → KookForwarder_v3.1.0_Windows_x64.exe

# 2. 双击运行
KookForwarder_v3.1.0_Windows_x64.exe

# 3. 按向导安装
默认路径: C:\Program Files\KookForwarder
可以自定义安装路径

# 4. 完成安装
勾选"启动应用" → 点击"完成"
```

### macOS

```bash
# 1. 下载dmg文件
https://github.com/gfchfjh/CSBJJWT/releases/latest
  → KookForwarder_v3.1.0_macOS.dmg

# 2. 打开dmg
双击 KookForwarder_v3.1.0_macOS.dmg

# 3. 拖动到Applications
拖动"KOOK消息转发系统"到"Applications"文件夹

# 4. 首次打开
右键点击应用 → 打开（绕过安全检查）
```

### Linux

```bash
# 1. 下载AppImage
wget https://github.com/gfchfjh/CSBJJWT/releases/latest/download/KookForwarder_v3.1.0_Linux_x64.AppImage

# 2. 添加执行权限
chmod +x KookForwarder_v3.1.0_Linux_x64.AppImage

# 3. 运行
./KookForwarder_v3.1.0_Linux_x64.AppImage
```

---

## 🔧 第2步：首次配置（5分钟）

### 配置向导 - 5步完成

#### 步骤1：欢迎页（30秒）

```
┌────────────────────────────────────┐
│   🎉 欢迎使用KOOK消息转发系统      │
│                                    │
│   ⚠️ 免责声明                      │
│   请仔细阅读以下条款：             │
│                                    │
│   1. 可能违反KOOK服务条款          │
│   2. 使用有账号被封禁风险          │
│   3. 请遵守法律法规                │
│   4. 仅供学习交流                  │
│                                    │
│   ☑️ 我已阅读并同意以上条款        │
│                                    │
│   [拒绝并退出]  [同意并继续]       │
└────────────────────────────────────┘
```

#### 步骤2：登录KOOK（1分钟）

**方法A：账号密码登录（推荐新手）**
```
邮箱: your@email.com
密码: ••••••••
验证码: [如需要]

[登录]
```

**方法B：Cookie导入（推荐老手）**
```
1. 点击"导入Cookie"标签
2. 粘贴Cookie JSON（从浏览器复制）
3. 点击"验证并导入"

💡 如何获取Cookie？
[查看教程] [观看视频]
```

**方法C：浏览器扩展（最简单）**
```
1. 安装Chrome扩展
2. 访问KOOK网站
3. 点击扩展图标
4. 一键导出到系统
```

#### 步骤3：选择服务器（1分钟）

```
┌────────────────────────────────────┐
│   🏠 选择要监听的服务器和频道      │
├────────────────────────────────────┤
│                                    │
│   ☑️ 游戏公告服务器                │
│      ☑️ #公告频道                  │
│      ☑️ #活动频道                  │
│      ☐ #闲聊频道                  │
│                                    │
│   ☑️ 技术交流服务器                │
│      ☑️ #技术讨论                  │
│      ☐ #新手提问                  │
│                                    │
│   [全选] [取消全选]                │
│                                    │
│   [上一步]  [下一步]               │
└────────────────────────────────────┘
```

#### 步骤4：配置Bot（1分钟）

**Discord配置**:
```
Bot名称: 游戏公告Bot
Webhook URL: https://discord.com/api/webhooks/123456...

[📖 如何创建Webhook？] [🧪 测试连接]
```

**Telegram配置**:
```
Bot名称: 游戏公告TG Bot
Bot Token: 1234567890:ABCdefGHI...
Chat ID: -1001234567890

[🔍 自动获取Chat ID] [🧪 测试连接]
```

**飞书配置**:
```
应用名称: 游戏公告飞书Bot
App ID: cli_a1b2c3d4e5f6...
App Secret: ABCdefGHIjklMNO...

[📖 查看教程] [🧪 测试连接]
```

#### 步骤5：频道映射（30秒）

**智能映射（推荐）**:
```
1. 点击"智能映射"按钮
2. 系统自动分析并推荐
3. 确认映射关系
4. 点击"完成配置"

示例推荐：
KOOK #公告 → Discord #announcements
KOOK #活动 → Telegram 活动群
```

**手动映射**:
```
1. 点击"添加映射"
2. 选择KOOK频道
3. 选择目标平台和频道
4. 点击"保存"
5. 重复以上步骤
```

---

## ✅ 第3步：验证运行（1分钟）

### 测试转发

1. **发送测试消息**
   ```
   在KOOK配置的频道中发送：
   "测试消息 - KOOK转发系统"
   ```

2. **检查目标平台**
   ```
   查看Discord/Telegram/飞书
   应该收到相同的消息
   ```

3. **查看日志**
   ```
   应用内 → 实时日志
   查看转发状态和延迟时间
   ```

### 验证成功标志

```
✅ 首页显示"运行中"（绿色状态）
✅ 账号显示"在线"
✅ 测试消息成功转发到目标平台
✅ 日志中显示"转发成功"
✅ 延迟时间<3秒
```

---

## 🎯 第4步：进阶配置（可选）

### 1. 设置过滤规则

```
左侧菜单 → 过滤规则

关键词黑名单: 广告, 代练, 外挂
关键词白名单: 官方公告, 版本更新
用户白名单: 官方账号, 管理员

[保存规则]
```

### 2. 配置图片策略

```
设置 → 图片处理

图片策略: 
○ 智能模式（推荐） - 优先直传，失败用图床
○ 仅直传
○ 仅图床

最大占用: 10 GB
清理周期: 7 天

[保存设置]
```

### 3. 启用邮件通知（v3.1.0新增）

```
设置 → 邮件配置

SMTP服务器: smtp.gmail.com
端口: 587
用户名: your@gmail.com
密码: your_app_password
发件邮箱: your@gmail.com

[测试连接] [保存配置]
```

### 4. 配置文件安全（v3.1.0新增）

```
设置 → 文件安全

查看危险文件类型（60+种）
管理白名单（添加信任的文件类型）

[查看统计] [管理白名单]
```

---

## 💡 使用技巧

### 技巧1：多Webhook负载均衡

```
吞吐量提升：

配置方法：
1. 创建多个Discord Webhook
2. 在Bot配置中全部添加
3. 系统自动轮询使用
```

### 技巧2：一对多转发

```
一个KOOK频道同时转发到多个目标：

KOOK #公告频道 → Discord #announcements
                → Telegram 公告群
                → 飞书 运营群

配置方法：
创建3个独立映射，源频道相同即可
```

### 技巧3：快速重启

```
系统托盘右键菜单：
- 暂停转发（临时停止）
- 恢复转发（继续运行）
- 重启服务（完全重启）
```

### 技巧4：查看统计

```
首页实时显示：
- 今日转发: 1,234 条
- 成功率: 98.5%
- 平均延迟: 1.2秒
- 失败消息: 18 条 [查看详情]
```

---

## ❓ 常见问题速查

### Q1: 账号一直显示"离线"？

**快速解决**:
```
1. 账号管理 → 选择账号 → 重新登录
2. 检查网络连接
3. 查看日志中的错误信息
```

### Q2: 消息没有自动转发？

**检查清单**:
```
☐ 账号是否在线？
☐ 是否配置了Bot？
☐ 是否设置了频道映射？
☐ 映射关系是否启用？
☐ 是否被过滤规则拦截？
```

### Q3: 图片转发失败？

**解决方案**:
```
1. 设置 → 图片处理 → 选择"智能模式"
2. 系统会自动处理防盗链
3. 自动压缩大图片
4. 失败时自动切换策略
```

### Q4: 如何备份配置？

```
设置 → 备份与恢复 → 立即备份

备份内容：
✅ 账号列表
✅ Bot配置
✅ 频道映射
✅ 过滤规则
✅ 系统设置
```

---

## 📺 视频教程（v3.1.0新增）

### 内置视频教程

```
帮助 → 视频教程

📺 完整配置演示（10分钟）
📺 Cookie获取教程（3分钟）
📺 Discord配置（2分钟）
📺 Telegram配置（4分钟）
📺 飞书配置（5分钟）
```

**注意**: 视频制作中，当前显示占位符提示

---

## 🔗 下一步

### 探索更多功能

- 📖 [用户手册](docs/用户手册.md) - 完整功能说明
- 🎬 [视频教程](docs/视频教程/README.md) - 图文视频教程
- 📊 [优化报告](OPTIMIZATION_COMPLETION_REPORT.md) - v3.1.0新功能

### 高级配置

- 🔧 [过滤规则](docs/用户手册.md#过滤规则) - 精确控制转发
- 🖼️ [图片策略](docs/用户手册.md#图片处理) - 优化图片转发
- ⚡ [性能优化](OPTIMIZATION_COMPLETION_REPORT.md#p2级优化) - 提升性能

### 问题排查

- 🐛 [常见问题](docs/用户手册.md#常见问题) - 问题解答
- 🔍 [启动失败](docs/应用启动失败排查指南.md) - 启动问题
- 📞 [获取帮助](https://github.com/gfchfjh/CSBJJWT/issues) - 在线支持

---

<div align="center">

**🎉 恭喜！你已成功完成快速开始**

**总耗时**: 约10分钟  
**状态**: ✅ 可以开始使用

[🏠 返回主页](README.md) | [📖 查看完整文档](V5_DOCUMENTATION_INDEX.md) | [🆘 获取帮助](https://github.com/gfchfjh/CSBJJWT/issues)

</div>
