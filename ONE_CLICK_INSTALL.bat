@echo off
chcp 65001 >nul
title KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ - ä¸€é”®å®‰è£…è„šæœ¬

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ - è¶…ç®€åŒ–ä¸€é”®å®‰è£…è„šæœ¬
:: ä½œè€…: AIä¿®å¤ç‰ˆ
:: ç‰ˆæœ¬: v18.0.1-FIXED
:: åŠŸèƒ½: è‡ªåŠ¨å®Œæˆæ‰€æœ‰æ­¥éª¤ï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨æ“ä½œ
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

color 0A
mode con cols=70 lines=30

echo.
echo    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo    â•‘                                                      â•‘
echo    â•‘      KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ - ä¸€é”®å®‰è£…è„šæœ¬ï¼ˆä¿®å¤ç‰ˆï¼‰       â•‘
echo    â•‘                                                      â•‘
echo    â•‘      ç‰ˆæœ¬: v18.0.1-FIXED                             â•‘
echo    â•‘      å®Œå…¨è‡ªåŠ¨åŒ–ï¼Œæ— éœ€ä»»ä½•æ“ä½œ                         â•‘
echo    â•‘                                                      â•‘
echo    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo    æ­¤è„šæœ¬å°†è‡ªåŠ¨å®Œæˆï¼š
echo    âœ“ æ£€æŸ¥çŽ¯å¢ƒä¾èµ–
echo    âœ“ ä¸‹è½½é¡¹ç›®æºç 
echo    âœ“ åº”ç”¨ä¿®å¤è¡¥ä¸
echo    âœ“ å®‰è£…æ‰€æœ‰ä¾èµ–
echo    âœ“ æ‰“åŒ…åŽç«¯æœåŠ¡
echo    âœ“ æž„å»ºå‰ç«¯åº”ç”¨
echo    âœ“ ç”Ÿæˆå®‰è£…ç¨‹åº
echo.
echo    é¢„è®¡æ—¶é—´: 20-30åˆ†é’Ÿ
echo    è¯·ç¡®ä¿ç½‘ç»œè¿žæŽ¥æ­£å¸¸
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo    æŒ‰ä»»æ„é”®å¼€å§‹å®‰è£…ï¼Œæˆ–å…³é—­çª—å£å–æ¶ˆ...
pause >nul

:: è®¾ç½®å·¥ä½œç›®å½•
set "INSTALL_DIR=%USERPROFILE%\KOOK-BUILD"
set "PROJECT_DIR=%INSTALL_DIR%\CSBJJWT"

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬ä¸€æ­¥ï¼šçŽ¯å¢ƒæ£€æŸ¥
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [1/8] æ£€æŸ¥ç³»ç»ŸçŽ¯å¢ƒ
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

:: æ£€æŸ¥Python
echo æ£€æŸ¥ Python...
python --version >nul 2>&1
if errorlevel 1 (
    color 0C
    echo.
    echo [âœ—] æœªå®‰è£… Pythonï¼
    echo.
    echo è¯·å…ˆå®‰è£… Python 3.11 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š
    echo ä¸‹è½½åœ°å€: https://www.python.org/downloads/
    echo.
    echo å®‰è£…æ—¶åŠ¡å¿…å‹¾é€‰ "Add Python to PATH"
    echo.
    echo å®‰è£…å®ŒæˆåŽï¼Œè¯·é‡æ–°è¿è¡Œæ­¤è„šæœ¬ã€‚
    echo.
    pause
    exit /b 1
)
for /f "tokens=2" %%i in ('python --version 2^>^&1') do set PYTHON_VER=%%i
echo [âœ“] Python %PYTHON_VER%

:: æ£€æŸ¥Node.js
echo æ£€æŸ¥ Node.js...
node --version >nul 2>&1
if errorlevel 1 (
    color 0C
    echo.
    echo [âœ—] æœªå®‰è£… Node.jsï¼
    echo.
    echo è¯·å…ˆå®‰è£… Node.js 18 æˆ–æ›´é«˜ç‰ˆæœ¬ï¼š
    echo ä¸‹è½½åœ°å€: https://nodejs.org/
    echo.
    echo å®‰è£…å®ŒæˆåŽï¼Œè¯·é‡æ–°è¿è¡Œæ­¤è„šæœ¬ã€‚
    echo.
    pause
    exit /b 1
)
for /f "tokens=1" %%i in ('node --version 2^>^&1') do set NODE_VER=%%i
echo [âœ“] Node.js %NODE_VER%

:: æ£€æŸ¥Git
echo æ£€æŸ¥ Git...
git --version >nul 2>&1
if errorlevel 1 (
    echo [?] æœªå®‰è£… Gitï¼ˆå°†ä½¿ç”¨å¤‡ç”¨ä¸‹è½½æ–¹å¼ï¼‰
    set "HAS_GIT=0"
) else (
    for /f "tokens=3" %%i in ('git --version 2^>^&1') do set GIT_VER=%%i
    echo [âœ“] Git %GIT_VER%
    set "HAS_GIT=1"
)

echo.
echo çŽ¯å¢ƒæ£€æŸ¥å®Œæˆï¼
timeout /t 2 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå·¥ä½œç›®å½•
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [2/8] å‡†å¤‡å·¥ä½œç›®å½•
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

if exist "%INSTALL_DIR%" (
    echo æ£€æµ‹åˆ°å·²å­˜åœ¨çš„å·¥ä½œç›®å½•ï¼Œæ˜¯å¦æ¸…ç†ï¼Ÿ
    echo [Y] æ¸…ç†å¹¶é‡æ–°å¼€å§‹
    echo [N] ç»§ç»­ä½¿ç”¨çŽ°æœ‰ç›®å½•
    choice /c YN /n /m "è¯·é€‰æ‹©: "
    if errorlevel 2 goto skip_cleanup
    echo æ¸…ç†æ—§ç›®å½•...
    rmdir /s /q "%INSTALL_DIR%" 2>nul
)

:skip_cleanup
if not exist "%INSTALL_DIR%" mkdir "%INSTALL_DIR%"
echo [âœ“] å·¥ä½œç›®å½•: %INSTALL_DIR%

timeout /t 1 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬ä¸‰æ­¥ï¼šä¸‹è½½é¡¹ç›®
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [3/8] ä¸‹è½½é¡¹ç›®æºç 
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

cd /d "%INSTALL_DIR%"

if exist "%PROJECT_DIR%" (
    echo [âœ“] é¡¹ç›®å·²å­˜åœ¨ï¼Œè·³è¿‡ä¸‹è½½
) else (
    if "%HAS_GIT%"=="1" (
        echo ä½¿ç”¨ Git å…‹éš†é¡¹ç›®...
        git clone https://github.com/gfchfjh/CSBJJWT.git
        if errorlevel 1 (
            echo [âœ—] Git å…‹éš†å¤±è´¥
            goto download_fallback
        )
    ) else (
        :download_fallback
        echo è¯·æ‰‹åŠ¨ä¸‹è½½é¡¹ç›®ï¼š
        echo.
        echo 1. è®¿é—®: https://github.com/gfchfjh/CSBJJWT
        echo 2. ç‚¹å‡» "Code" â†’ "Download ZIP"
        echo 3. è§£åŽ‹åˆ°: %INSTALL_DIR%\CSBJJWT
        echo 4. å®ŒæˆåŽæŒ‰ä»»æ„é”®ç»§ç»­...
        echo.
        pause
        
        if not exist "%PROJECT_DIR%" (
            color 0C
            echo [âœ—] æœªæ‰¾åˆ°é¡¹ç›®ç›®å½•ï¼Œè¯·é‡æ–°ä¸‹è½½
            pause
            exit /b 1
        )
    )
)

echo [âœ“] é¡¹ç›®ä¸‹è½½å®Œæˆ

timeout /t 1 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬å››æ­¥ï¼šåº”ç”¨ä¿®å¤è¡¥ä¸
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [4/8] åº”ç”¨ä¿®å¤è¡¥ä¸
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

cd /d "%PROJECT_DIR%"

echo å¤‡ä»½åŽŸå§‹é…ç½®æ–‡ä»¶...
if exist "build\pyinstaller.spec" (
    copy /y "build\pyinstaller.spec" "build\pyinstaller.spec.bak" >nul 2>&1
)

echo åº”ç”¨ä¿®å¤è¡¥ä¸...
echo ä¿®å¤å†…å®¹: ç»Ÿä¸€åŽç«¯æ–‡ä»¶åä¸º KOOKForwarder

:: åˆ›å»ºä¸´æ—¶Pythonè„šæœ¬æ¥ä¿®æ”¹æ–‡ä»¶
echo import re > fix_spec.py
echo. >> fix_spec.py
echo with open('build/pyinstaller.spec', 'r', encoding='utf-8') as f: >> fix_spec.py
echo     content = f.read() >> fix_spec.py
echo. >> fix_spec.py
echo # æ›¿æ¢ä¸¤å¤„ name å‚æ•° >> fix_spec.py
echo content = content.replace("name='kook-forwarder-backend',", "name='KOOKForwarder',") >> fix_spec.py
echo. >> fix_spec.py
echo with open('build/pyinstaller.spec', 'w', encoding='utf-8') as f: >> fix_spec.py
echo     f.write(content) >> fix_spec.py
echo. >> fix_spec.py
echo print('[OK] ä¿®å¤å®Œæˆ') >> fix_spec.py

python fix_spec.py
del fix_spec.py

echo [âœ“] ä¿®å¤è¡¥ä¸åº”ç”¨å®Œæˆ

timeout /t 1 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬äº”æ­¥ï¼šå®‰è£…åŽç«¯ä¾èµ–
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [5/8] å®‰è£…åŽç«¯ä¾èµ–ï¼ˆçº¦5åˆ†é’Ÿï¼‰
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

cd /d "%PROJECT_DIR%\backend"

if not exist venv (
    echo åˆ›å»º Python è™šæ‹ŸçŽ¯å¢ƒ...
    python -m venv venv
)

echo æ¿€æ´»è™šæ‹ŸçŽ¯å¢ƒ...
call venv\Scripts\activate

echo å‡çº§ pip...
python -m pip install --upgrade pip -q

echo å®‰è£…ä¾èµ–åŒ…...
echo ï¼ˆè¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…ï¼‰
pip install -r requirements.txt -q
if errorlevel 1 (
    echo ä½¿ç”¨æ¸…åŽé•œåƒé‡è¯•...
    pip install -r requirements.txt -i https://pypi.tuna.tsinghua.edu.cn/simple -q
)

echo å®‰è£… PyInstaller...
pip install pyinstaller -q

echo [âœ“] åŽç«¯ä¾èµ–å®‰è£…å®Œæˆ

timeout /t 1 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬å…­æ­¥ï¼šæ‰“åŒ…åŽç«¯
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [6/8] æ‰“åŒ…åŽç«¯æœåŠ¡ï¼ˆçº¦10åˆ†é’Ÿï¼‰
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo è¿™æ˜¯æœ€è€—æ—¶çš„æ­¥éª¤ï¼Œè¯·è€å¿ƒç­‰å¾…...
echo æ‚¨å¯ä»¥åŽ»å–æ¯å’–å•¡ â˜•
echo.

cd /d "%PROJECT_DIR%\build"

if exist dist rmdir /s /q dist 2>nul
if exist build rmdir /s /q build 2>nul

echo å¼€å§‹æ‰“åŒ…...
pyinstaller pyinstaller.spec

if not exist "dist\KOOKForwarder\KOOKForwarder.exe" (
    color 0C
    echo.
    echo [âœ—] åŽç«¯æ‰“åŒ…å¤±è´¥ï¼
    echo.
    echo å¯èƒ½çš„åŽŸå› ï¼š
    echo 1. ä¾èµ–å®‰è£…ä¸å®Œæ•´
    echo 2. ç£ç›˜ç©ºé—´ä¸è¶³
    echo 3. æ€æ¯’è½¯ä»¶æ‹¦æˆª
    echo.
    echo è¯·æŸ¥çœ‹ä¸Šæ–¹é”™è¯¯ä¿¡æ¯
    echo.
    pause
    exit /b 1
)

echo å¤åˆ¶åŽç«¯æ–‡ä»¶...
cd /d "%PROJECT_DIR%"
if not exist "backend\dist" mkdir "backend\dist"
xcopy /y /e /i "build\dist\KOOKForwarder" "backend\dist\KOOKForwarder" >nul

echo [âœ“] åŽç«¯æ‰“åŒ…å®Œæˆ
echo [âœ“] ç”Ÿæˆæ–‡ä»¶: KOOKForwarder.exe

timeout /t 2 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: ç¬¬ä¸ƒæ­¥ï¼šæž„å»ºå‰ç«¯
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  [7/8] æž„å»ºå‰ç«¯åº”ç”¨ï¼ˆçº¦10åˆ†é’Ÿï¼‰
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

cd /d "%PROJECT_DIR%\frontend"

if not exist node_modules (
    echo å®‰è£…å‰ç«¯ä¾èµ–...
    echo ï¼ˆè¿™å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿï¼‰
    call npm install
    if errorlevel 1 (
        echo ä½¿ç”¨æ·˜å®é•œåƒé‡è¯•...
        call npm install --registry=https://registry.npmmirror.com
    )
)

echo æž„å»ºå‰ç«¯...
if exist dist rmdir /s /q dist 2>nul
if exist dist-electron rmdir /s /q dist-electron 2>nul

call npm run build

echo æ‰“åŒ… Electron åº”ç”¨...
echo ï¼ˆè¿™æ˜¯æœ€åŽä¸€æ­¥äº†ï¼ï¼‰
call npm run electron:build:win

if not exist "dist-electron\win-unpacked\KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ.exe" (
    color 0C
    echo.
    echo [âœ—] Electron æ‰“åŒ…å¤±è´¥ï¼
    echo.
    pause
    exit /b 1
)

echo [âœ“] å‰ç«¯æž„å»ºå®Œæˆ

timeout /t 2 >nul

:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
:: å®Œæˆ
:: â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
cls
color 0A
echo.
echo    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo    â•‘                                                      â•‘
echo    â•‘            ðŸŽ‰ æž„å»ºæˆåŠŸï¼                             â•‘
echo    â•‘                                                      â•‘
echo    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  å®‰è£…åŒ…ä½ç½®
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ðŸ“¦ å®‰è£…ç¨‹åº:
echo    %PROJECT_DIR%\frontend\dist-electron\
echo    KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ Setup 18.0.0.exe
echo.
echo ðŸ’¼ ä¾¿æºç‰ˆ:
echo    %PROJECT_DIR%\frontend\dist-electron\win-unpacked\
echo    KOOKæ¶ˆæ¯è½¬å‘ç³»ç»Ÿ.exe
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo  ä¸‹ä¸€æ­¥æ“ä½œ
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo 1. è¿è¡Œå®‰è£…ç¨‹åºæˆ–ä¾¿æºç‰ˆ
echo 2. å¦‚é‡Windowsè­¦å‘Šï¼Œç‚¹å‡»"æ›´å¤šä¿¡æ¯"â†’"ä»ç„¶è¿è¡Œ"
echo 3. é¦–æ¬¡å¯åŠ¨éœ€è¦è®¾ç½®å¯†ç 
echo 4. å¼€å§‹ä½¿ç”¨ï¼
echo.
echo â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo æ˜¯å¦çŽ°åœ¨æ‰“å¼€å®‰è£…åŒ…æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Ÿ
choice /c YN /n /m "[Y] æ˜¯  [N] å¦: "
if errorlevel 2 goto end

explorer "%PROJECT_DIR%\frontend\dist-electron"

:end
echo.
echo æ„Ÿè°¢ä½¿ç”¨ï¼
timeout /t 3 >nul
exit /b 0
